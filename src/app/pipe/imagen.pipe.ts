import { Pipe, PipeTransform } from '@angular/core';
import { ImagenService } from '../services/imagen.service';
import { lastValueFrom } from 'rxjs';


@Pipe({
  name: 'imagen'
})
export class ImagenPipe implements PipeTransform {

  constructor(private imgenService: ImagenService) { }

  async transform(valor: string): Promise<any> {
    let datos = await this.imagebnPromesa(valor);
    return datos;
  }

  async imagebnPromesa(valor: any) {
    const get$ = this.imgenService.getImagenFileServer(valor);
    
    return await lastValueFrom(get$)
      .then((resp: any) => {
        let img = resp.data.Contenido;
        if (img === undefined || img === null) {
          return `data:image/png;base64,${this.imagenBase}`;
        }else{
          return `data:image/png;base64,${img}`;
        }
      })
      .catch((err: any) => err);
  }

  public imagenBase = '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'

}

